(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10f3113a"],{"1b84":function(t,e,n){"use strict";n("3378")},3378:function(t,e,n){},"66c0":function(t,e,n){"use strict";n("8e6e")},"8e6e":function(t,e,n){},c24f:function(t,e,n){"use strict";n.r(e),n.d(e,"login",(function(){return o})),n.d(e,"register",(function(){return r})),n.d(e,"updateInfo",(function(){return s})),n.d(e,"smsLogin",(function(){return i})),n.d(e,"getVcode",(function(){return c})),n.d(e,"editPassword",(function(){return u})),n.d(e,"getUser",(function(){return d}));var a=n("b775");function o(t){return Object(a["a"])({url:"/index/login",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/index/register",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/index/update/info",method:"put",data:t})}function i(t){return Object(a["a"])({url:"/index/sms/login",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/index/get/vcode",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/index/update/password",method:"put",data:t})}function d(t){return Object(a["a"])({url:"/index/member/query",method:"get",params:t})}},dd7b:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap login_box"},[n("div",{staticClass:"tab_menu"},[n("span",{class:t.tab_01_show?"active":"",on:{click:function(e){return t.tabClick(1)}}},[t._v("密码登录")]),n("span",{class:t.tab_02_show?"active":"",on:{click:function(e){return t.tabClick(2)}}},[t._v("短信登录")])]),n("div",{staticClass:"tab_content"},[t.tab_01_show?n("div",{staticClass:"tab_01"},[n("div",{staticClass:"form"},[n("div",{staticClass:"form_item"},[n("span",{staticClass:"pre"},[t._v("+86 >")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{placeholder:"请填写用户手机",type:"text"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),n("div",{staticClass:"form_item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"请填写密码",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("div",{staticStyle:{"margin-top":"50px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"},on:{click:t.onSubmit}},[t._v("提交")])],1)])]):t._e(),t.tab_02_show?n("div",{staticClass:"tab_02"},[n("div",{staticClass:"form"},[n("div",{staticClass:"form_item"},[n("span",{staticClass:"pre"},[t._v("+86 >")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{placeholder:"请填写用户手机",type:"text"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),n("div",{staticClass:"form_item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.vcode,expression:"vcode"}],attrs:{placeholder:"请输入验证码",type:"text"},domProps:{value:t.vcode},on:{input:function(e){e.target.composing||(t.vcode=e.target.value)}}}),n("span",{staticClass:"last",on:{click:t.fetchVcode}},[t._v("获取验证码")])]),n("div",{staticStyle:{"margin-top":"50px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"},on:{click:t.smsSubmit}},[t._v("提交")])],1)])]):t._e()]),n("van-divider"),n("van-button",{attrs:{round:"",block:""},on:{click:t.toHome}},[t._v("随便看看")]),t.tab_01_show?n("div",{staticClass:"bot_f"},[n("span",{on:{click:t.toForget}},[t._v("忘记密码")]),n("span",{on:{click:t.toRegister}},[t._v("立即注册")])]):t._e(),t.tab_02_show?n("div",{staticClass:"bot_f"},[n("span",{on:{click:t.toRegister}},[t._v("立即注册")])]):t._e()],1)},o=[],r=n("60b5"),s=(n("9065"),n("a336"),n("6a61"),n("ed08")),i=n("c24f"),c={data:function(){return{phone:"",password:"",vcode:"",verification_key:"",tab_01_show:!0,tab_02_show:!1}},mounted:function(){this.verification_key=s["a"].get("verification_key")},methods:{onSubmit:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.phone,a=t.password,e.next=4,i.login({phone:n,password:a});case 4:o=e.sent,200==o.code&&(r=o.data,s["a"].set("user_id",r.user_id),s["a"].set("user_token",r.token),s["a"].set("user_phone",r.phone),s["a"].set("user_head",r.head),t.$router.push({path:"/"}));case 6:case"end":return e.stop()}}),e)})))()},smsSubmit:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a,o,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.phone,a=t.vcode,o=t.verification_key,e.next=5,i.smsLogin({phone:n,vcode:a,verification_key:o});case 5:r=e.sent,200==r.code&&(c=r.data,s["a"].set("user_id",c.user_id),s["a"].set("user_token",c.token),s["a"].set("user_phone",c.phone),s["a"].set("user_head",c.head),t.$router.push({path:"/"}));case 7:case"end":return e.stop()}}),e)})))()},toHome:function(){this.$router.replace({path:"/"})},toForget:function(){this.$router.push({path:"/forget"})},fetchVcode:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.phone,n){e.next=4;break}return t.$notify({message:"请填写手机号",color:"#ffffff"}),e.abrupt("return");case 4:return e.next=6,i.getVcode({phone:n});case 6:a=e.sent,200==a.code&&(s["a"].set("verification_key",a.data.verification_key),t.verification_key=a.data.verification_key);case 8:case"end":return e.stop()}}),e)})))()},tabClick:function(t){1==t?(this.tab_01_show=!0,this.tab_02_show=!1):(this.tab_01_show=!1,this.tab_02_show=!0)},toRegister:function(){this.$router.replace({path:"/register"})}}},u=c,d=(n("66c0"),n("1b84"),n("5d22")),p=Object(d["a"])(u,a,o,!1,null,"615f51ba",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-10f3113a.8300596b.js.map