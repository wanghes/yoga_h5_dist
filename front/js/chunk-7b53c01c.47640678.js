(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b53c01c"],{"1b84":function(t,e,a){"use strict";a("3378")},3378:function(t,e,a){},"66c0":function(t,e,a){"use strict";a("8e6e")},"8e6e":function(t,e,a){},dd7b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap login_box"},[a("div",{staticClass:"tab_menu"},[a("span",{class:t.tab_01_show?"active":"",on:{click:function(e){return t.tabClick(1)}}},[t._v("密码登录")]),a("span",{class:t.tab_02_show?"active":"",on:{click:function(e){return t.tabClick(2)}}},[t._v("短信登录")])]),a("div",{staticClass:"tab_content"},[t.tab_01_show?a("div",{staticClass:"tab_01"},[a("div",{staticClass:"form"},[a("div",{staticClass:"form_item"},[a("span",{staticClass:"pre"},[t._v("+86 >")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{placeholder:"请填写用户手机",type:"text"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),a("div",{staticClass:"form_item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"请填写密码",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticStyle:{"margin-top":"50px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"},on:{click:t.onSubmit}},[t._v("提交")])],1)])]):t._e(),t.tab_02_show?a("div",{staticClass:"tab_02"},[a("div",{staticClass:"form"},[a("div",{staticClass:"form_item"},[a("span",{staticClass:"pre"},[t._v("+86 >")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{placeholder:"请填写用户手机",type:"text"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),a("div",{staticClass:"form_item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.vcode,expression:"vcode"}],attrs:{placeholder:"请输入验证码",type:"text"},domProps:{value:t.vcode},on:{input:function(e){e.target.composing||(t.vcode=e.target.value)}}}),a("span",{staticClass:"last",on:{click:t.fetchVcode}},[t._v("获取验证码")])]),a("div",{staticStyle:{"margin-top":"50px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"},on:{click:t.smsSubmit}},[t._v("提交")])],1)])]):t._e()]),a("van-divider"),a("van-button",{attrs:{round:"",block:""},on:{click:t.toHome}},[t._v("随便看看")]),t.tab_01_show?a("div",{staticClass:"bot_f"},[a("span",{on:{click:t.toForget}},[t._v("忘记密码")]),a("span",{on:{click:t.toRegister}},[t._v("立即注册")])]):t._e(),t.tab_02_show?a("div",{staticClass:"bot_f"},[a("span",{on:{click:t.toRegister}},[t._v("立即注册")])]):t._e()],1)},o=[],s=a("60b5"),i=(a("9065"),a("a336"),a("6a61"),a("ed08")),r=a("c24f"),c={data:function(){return{phone:"",password:"",vcode:"",verification_key:"",tab_01_show:!0,tab_02_show:!1}},mounted:function(){this.verification_key=i["a"].get("verification_key")},methods:{onSubmit:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.phone,n=t.password,e.next=4,r.login({phone:a,password:n});case 4:o=e.sent,200==o.code&&(s=o.data,i["a"].set("user_id",s.user_id),i["a"].set("user_token",s.token),i["a"].set("user_phone",s.phone),i["a"].set("user_head",s.head),t.$router.push({path:"/"}));case 6:case"end":return e.stop()}}),e)})))()},smsSubmit:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.phone,n=t.vcode,o=t.verification_key,e.next=5,r.smsLogin({phone:a,vcode:n,verification_key:o});case 5:s=e.sent,200==s.code&&(c=s.data,i["a"].set("user_id",c.user_id),i["a"].set("user_token",c.token),i["a"].set("user_phone",c.phone),i["a"].set("user_head",c.head),t.$router.push({path:"/"}));case 7:case"end":return e.stop()}}),e)})))()},toHome:function(){this.$router.replace({path:"/"})},toForget:function(){this.$router.push({path:"/forget"})},fetchVcode:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.phone,a){e.next=4;break}return t.$notify({message:"请填写手机号",color:"#ffffff"}),e.abrupt("return");case 4:return e.next=6,r.getVcode({phone:a});case 6:n=e.sent,200==n.code&&(i["a"].set("verification_key",n.data.verification_key),t.verification_key=n.data.verification_key);case 8:case"end":return e.stop()}}),e)})))()},tabClick:function(t){1==t?(this.tab_01_show=!0,this.tab_02_show=!1):(this.tab_01_show=!1,this.tab_02_show=!0)},toRegister:function(){this.$router.replace({path:"/register"})}}},u=c,p=(a("66c0"),a("1b84"),a("5d22")),d=Object(p["a"])(u,n,o,!1,null,"615f51ba",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-7b53c01c.47640678.js.map