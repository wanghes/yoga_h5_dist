(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c74920e"],{"53fd":function(e,t,n){"use strict";n("d9d1")},6775:function(e,t,n){},d9d1:function(e,t,n){},e1a9:function(e,t,n){"use strict";n("6775")},e503:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrap login_box"},[n("h3",{staticClass:"title"},[e._v("修改密码")]),n("div",{staticClass:"tab_content"},[n("div",{staticClass:"form"},[n("div",{staticClass:"form_item"},[n("span",{staticClass:"pre"},[e._v("+86 >")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{placeholder:"请填写用户手机",type:"text"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),n("div",{staticClass:"form_item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.vcode,expression:"vcode"}],attrs:{placeholder:"请输入验证码",type:"text"},domProps:{value:e.vcode},on:{input:function(t){t.target.composing||(e.vcode=t.target.value)}}}),e.sending?n("span",{staticClass:"last"},[e._v("还剩 "+e._s(e.seconds)+" 秒")]):n("span",{staticClass:"last",on:{click:e.fetchVcode}},[e._v("获取验证码")])]),n("div",{staticClass:"form_item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"设定新密码(6位或以上）",type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("div",{staticStyle:{"margin-top":"50px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"},on:{click:e.onSubmit}},[e._v("提 交")])],1)])]),n("div",{staticClass:"bot_f"},[n("span",{on:{click:e.toRegister}},[e._v("立即注册")])])])},a=[],o=n("cd6d"),r=(n("9896"),n("f416"),n("6a61"),n("ed08")),i=n("c24f"),c={data:function(){return{phone:"",password:"",vcode:"",verification_key:"",sending:!1,seconds:60}},mounted:function(){this.verification_key=r["a"].get("verification_key")},methods:{onSubmit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,s,a,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.phone,s=e.vcode,a=e.verification_key,o=e.password,t.next=6,i.editPassword({phone:n,password:o,vcode:s,verification_key:a});case 6:r=t.sent,200==r.code?e.$router.push({path:"/findOk"}):1e3==r.code&&e.$router.push({path:"/register"});case 8:case"end":return t.stop()}}),t)})))()},toHome:function(){this.$router.replace({path:"/"})},fetchVcode:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.phone,n){t.next=4;break}return e.$notify({message:"请填写手机号",color:"#ffffff"}),t.abrupt("return");case 4:if(s=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/,s.test(n)){t.next=8;break}return e.$notify({message:"请填写正确的手机号",color:"#ffffff"}),t.abrupt("return");case 8:return e.startReadSeconds(),t.next=11,i.getVcode({phone:n});case 11:a=t.sent,200==a.code&&(r["a"].set("verification_key",a.data.verification_key),e.verification_key=a.data.verification_key);case 13:case"end":return t.stop()}}),t)})))()},startReadSeconds:function(){var e=this;this.sending=!0;var t=setInterval((function(){if(0==e.seconds)return clearInterval(t),t=null,e.sending=!1,void(e.seconds=60);e.seconds=e.seconds-1}),1e3)},toRegister:function(){this.$router.replace({path:"/register"})}}},d=c,u=(n("e1a9"),n("53fd"),n("4ac2")),p=Object(u["a"])(d,s,a,!1,null,"11b847db",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-7c74920e.85c79d50.js.map