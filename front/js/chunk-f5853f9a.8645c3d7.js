(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f5853f9a"],{1815:function(e,t){e.exports="data:image/png;base64,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"},"386e":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrap register_box"},[n("h3",{staticClass:"title"},[e._v("送您VIP瑜伽课，跟我一起打卡吧")]),n("div",{staticClass:"info"},[e._v("只用于团体消费，不用于收费早课、孕产及精进类私教课")]),n("img",{staticClass:"theme",attrs:{src:e.yoga_register,alt:""}}),n("div",{staticClass:"head"},[n("img",{attrs:{src:e.head,alt:""}})]),n("div",{staticClass:"form"},[n("div",{staticClass:"form_item"},[n("label",{attrs:{for:"ground"}},[e._v("场馆")]),n("input",{attrs:{id:"ground",disabled:"",placeholder:"这是一个测试",type:"text"},domProps:{value:e.venues.name}})]),n("div",{staticClass:"form_item"},[n("label",{attrs:{for:"name"}},[e._v("姓名")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{id:"name",placeholder:"请输入您的姓名",type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),n("div",{staticClass:"form_item"},[n("label",{attrs:{for:"phone"}},[e._v("手机号")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{id:"phone",placeholder:"请输入您的手机号",type:"text"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),n("div",{staticClass:"form_item"},[n("label",{attrs:{for:"vcode"}},[e._v("验证码")]),n("div",{staticClass:"v_code"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.vcode,expression:"vcode"}],attrs:{id:"vcode",placeholder:"请输入验证码",type:"text"},domProps:{value:e.vcode},on:{input:function(t){t.target.composing||(e.vcode=t.target.value)}}}),e.sending?n("span",{staticClass:"send_btn send_btn_2"},[e._v("还剩 "+e._s(e.seconds)+" 秒")]):n("span",{staticClass:"send_btn",on:{click:e.fetchVcode}},[e._v("获取验证码")])])]),n("div",{staticClass:"form_item"},[n("label",{attrs:{for:"guwen"}},[e._v("专业瑜伽顾问")]),n("span",{attrs:{id:"guwen"},on:{click:function(t){e.showPicker=!0}}},[e._v(e._s(e.adviser_name))]),n("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[n("van-picker",{attrs:{"show-toolbar":"",columns:e.advisers,"value-key":"name"},on:{confirm:e.onConfirm,cancel:function(t){e.showPicker=!1}}})],1)],1),n("div",{staticStyle:{"margin-top":"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"},on:{click:e.doRegister}},[e._v("提交")]),n("van-divider"),n("van-button",{attrs:{round:"",block:""},on:{click:e.toHome}},[e._v("随便看看")])],1),n("div",{staticClass:"bot"},[n("div",[e._v("已有账号，"),n("span",{on:{click:e.toLogin}},[e._v("在此登录")])]),e._m(0)])])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("点击注册即表示同意"),n("a",[e._v("用户注册协议")])])}],r=n("cd6d"),s=(n("389c"),n("9896"),n("f416"),n("6a61"),n("f05d")),o=n.n(s),c=n("1815"),d=n.n(c),u=(n("4c45"),n("ed08")),v=n("5ff7"),p=n("c24f"),f=n("f4d0"),l={data:function(){return{phone:"",name:u["a"].get("weixin_nickname")||"",head:u["a"].get("weixin_headimgurl"),openid:u["a"].get("weixin_openid")||"",vcode:"",yoga_register:o.a,home:d.a,showPicker:!1,adviser_id:"",advisers:[],adviser_name:"请选择为您服务的顾问（选填）",venues:{},verification_key:"",sending:!1,seconds:60}},mounted:function(){this.fetchVenues(),this.fetchAdvisers(),this.verification_key=u["a"].get("verification_key")},methods:{fetchAdvisers:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.allList();case 2:n=t.sent,200==n.code&&(e.advisers=n.data);case 4:case"end":return t.stop()}}),t)})))()},fetchVenues:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.query();case 2:n=t.sent,200==n.code&&(e.venues=n.data);case 4:case"end":return t.stop()}}),t)})))()},fetchVcode:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.phone,n){t.next=4;break}return e.$toast({message:"请填写手机号"}),t.abrupt("return");case 4:if(a=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/,a.test(n)){t.next=8;break}return e.$toast({message:"请填写正确的手机号"}),t.abrupt("return");case 8:return e.startReadSeconds(),t.next=11,p.getVcode({phone:n});case 11:i=t.sent,200==i.code&&(u["a"].set("verification_key",i.data.verification_key),e.verification_key=i.data.verification_key);case 13:case"end":return t.stop()}}),t)})))()},startReadSeconds:function(){var e=this;this.sending=!0;var t=setInterval((function(){if(0==e.seconds)return clearInterval(t),t=null,e.sending=!1,void(e.seconds=60);e.seconds=e.seconds-1}),1e3)},doRegister:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i,r,s,o,c,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.phone,a=e.vcode,i=e.adviser_id,r=e.name,s=e.head,o=e.openid,r){t.next=9;break}return e.$toast({message:"请填写用户姓名"}),t.abrupt("return");case 9:if(n){t.next=12;break}return e.$toast({message:"请填写手机号"}),t.abrupt("return");case 12:if(a){t.next=15;break}return e.$notify({message:"请填写短信验证码"}),t.abrupt("return");case 15:return t.next=17,p.register({phone:n,name:r,vcode:a,adviser:i,openid:o,head:s,verification_key:e.verification_key});case 17:c=t.sent,200==c.code&&(d=c.data.init_password,e.$toast({message:"注册成功，正在为您跳转登录..."}),setTimeout((function(){e.$router.replace({path:"/login",query:{init_password:d}})}),1e3));case 19:case"end":return t.stop()}}),t)})))()},onConfirm:function(e){this.adviser_name=e.name,this.adviser_id=e.id,this.showPicker=!1},toHome:function(){this.$router.replace({path:"/"})},toLogin:function(){this.$router.replace({path:"/login"})}}},m=l,g=(n("a620"),n("8e47"),n("4ac2")),h=Object(g["a"])(m,a,i,!1,null,"6e526b6c",null);t["default"]=h.exports},"4c45":function(e,t,n){e.exports=n.p+"img/head.e3fcaf96.png"},"5c01":function(e,t,n){},"5ff7":function(e,t,n){"use strict";n.r(t),n.d(t,"allList",(function(){return i}));var a=n("b775");function i(e){return Object(a["a"])({url:"/index/adviser/all",method:"get",params:e})}},"8e47":function(e,t,n){"use strict";n("91cd")},"91cd":function(e,t,n){},a620:function(e,t,n){"use strict";n("5c01")},f05d:function(e,t,n){e.exports=n.p+"img/yoga_register.8e5f38b2.png"}}]);
//# sourceMappingURL=chunk-f5853f9a.8645c3d7.js.map